# VIM 常用方法



## 一、 多文件的打开方式

Vim 支持一次性打开多个文件，命令行上写出多个文件即可，或者使用通配符。

```shell
vim *.cpp  *.h
```

输入这个命令后，Vim只打开文件中的第一个文件

| 操作                         | 说明                                                         |
| ---------------------------- | ------------------------------------------------------------ |
| :args                        | 可以显示“参数”，即需要编辑的多个文件的列表                   |
| :args 文件名                 | 使用新的文件名替换参数列表                                   |
| :next / n                    | 打开下一个文件；如当前文件修改（未存盘）则会报错中止，但如果命令加！则会放弃修改内容，其他命令也类似 |
| :Next(N) /   :previous(prev) | 打开上一个文件                                               |
| :first / :rewind             | 回到列表中的第一个文件                                       |
| :last                        | 打开列表中的最后一个文件                                     |



1. 在终端里进入到目标目录下
2. 使用`vim *.cpp *.h`  或 `ｇvim *.cpp  *.h` 来打开需要编辑的文件
3. 对于第一个文件，使用之前的方法贴入所需的文本
4. 使用 V 进入行选择的可视模式，移动光标选中所需的文本，然后使用 y 复制选中的各行
5. 执行命令 `:set autowrite`, 告诉 Vim 在切换文件时自动存盘
6. 执行命令 `:n|normal ggP`, 切换到下一个文件并执行正常模式命令 ggP, 跳转到文件开头并贴入文本
7. 确认修改无误后，键入 `:` 、上箭头和回车，重复执行上面的命令
8. 待 Vim 报错说已经在最后一个文件里，使用 `:w` 存盘，或 `:wq` (亦或更快的 ZZ) 存盘退出

> 注意:   第6步可以拆成 `:n` 和 `ggP` 两步， 但文件数量较多时，反复手工敲也挺累的。因此， 我这这儿使用了 normal 命令， 在命令行模式下执行正常模式命令，下面就可以直接重复切换命令加粘贴命令，效率也得以大大提升。
